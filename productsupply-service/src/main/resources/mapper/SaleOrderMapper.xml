<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.zq.dao.SaleOrderMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="cn.zq.domain.SaleOrder">
        <id column="id" property="id" />
        <result column="code" property="code" />
        <result column="customer_id" property="customerId" />
        <result column="order_type" property="orderType" />
        <result column="input_require_date" property="inputRequireDate" />
        <result column="out_require_date" property="outRequireDate" />
        <result column="order_date" property="orderDate" />
        <result column="settlement_method" property="settlementMethod" />
        <result column="attachment" property="attachment" />
        <result column="amount" property="amount" />
        <result column="tax_rate" property="taxRate" />
        <result column="discount" property="discount" />
        <result column="delivery_status" property="deliveryStatus" />
        <result column="receipt_status" property="receiptStatus" />
        <result column="order_status" property="orderStatus" />
        <result column="create_time" property="createTime" />
        <result column="update_time" property="updateTime" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, code, customer_id, order_type, input_require_date,out_require_date, order_date, settlement_method, attachment, amount, tax_rate, discount, delivery_status, receipt_status, create_time, update_time
    </sql>
    <select id="maxId" resultType="java.lang.Integer" >
        select max(id) from sale_order
    </select>
    <select id="selectByCode" resultMap="BaseResultMap" parameterType="java.lang.String">
        select
        <include refid="Base_Column_List" />
        from sale_order
        where code=#{code}
    </select>
</mapper>
